<div class="content">
        <div class="container">
          <div class="row g-0">
            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/OIP.jpg" alt="">
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">
                    SUIVI DE VOS TRAVAUX DE CONSTRUCTION
                  </h3>
                  
                  
                  <!-- <p>
                    Gravida sodales condimentum pellen tesq accumsan orci quam
                    sagittis sapie
                  </p> -->
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/hero_2.jpg" alt="">
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">RECOUVREMENT DE VOS LOYERS</h3>
                  <aside style="text-align: center; margin-top: 9%;">
                    
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/b5.jpg" alt="">
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">FAIRE DES COURSES POUR VOUS AU TOGO, etc...</h3>
                  <aside style="text-align: center;">
                   
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/14.jpg" alt="">
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">RETRAIT ET REMISE D'ARGENT, COLIS ... AUX MEMBRES DE VOS FAMILLES</h3>
                  <aside style="text-align: center;">
                    
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/18.jpg" alt="">
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">FORMALITÉS ADMINISTRATIVES D'ACHAT DE TERRAINS SÉCURISÉS</h3>
                  <aside style="text-align: center;">
                    
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-6">
              <div class="service-item">
                
                <div class="service-item-icon">
                  <img src="assets/img/16.jpg" alt="">
                  
                </div>
                <div class="service-item-content">
                  <h3 class="service-heading" style="text-align: center; font-weight:700; padding: 0px; font-size: 1.4rem; font-family:'League Spartan', sans-serif; color:rgb(72,90,102);">MAISONS, CHAMBRES À LOUER POUR VOS SÉJOURS AU TOGO</h3>
                  <aside style="text-align: center;">
                    
                </div>
              </div>
            </div>
            
          </div>
        </div>
      </div>
      <div style="text-align: center; margin-top: 3rem;">
        <h1>
          Pour tout autre service, n'hésitez pas à nous contacter.
        </h1>
        
      </div>
      <section id="about-3" class="about-3 section">

      <div class="container">
        <div class="row gy-4 justify-content-center align-items-center">
          <div class="col-lg-6 order-lg-2 position-relative" data-aos="zoom-out">
            <img src="assets/img/55.png" alt="Image" class="img-fluid">
            <!-- <a href="https://www.youtube.com/watch?v=Y7f98aduVJ8" class="glightbox pulsating-play-btn">
              <span class="play"><i class="bi bi-play-fill"></i></span>
            </a> -->
          </div>
          <div class="col-lg-5 order-lg-1" data-aos="fade-up" data-aos-delay="100">
            <h2 class="content-title mb-12"  style="color: rgb(72, 90, 101);">
              <span class="text-warning" >MIDONMI</span> est là pour vous rendre tout autre service!
            </h2>
            
            

            <p>
              <a href="#" class="btn-cta" data-bs-toggle="modal" data-bs-target="#demandeServiceModal" style="background: rgb(72, 90, 101);">
  Cliquez pour tout service
              </a>
            </p>
          </div>
        </div>
      </div>
    </section><!-- /About 3 Section -->
    </section><!-- /Services Section -->

    <!-- About Section -->
    <section id="about" class="about section">

      <div class="content"  style="background: rgb(72, 90, 101);">
        <div class="container">
          <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
              <img src="assets/img/img_long_5.jpg" alt="Image " class="img-fluid img-overlap" data-aos="zoom-out">
            </div>
            <div class="col-lg-5 ml-auto" data-aos="fade-up" data-aos-delay="100">
              <h3 class="content-subtitle text-white opacity-50">Pourquoi nous choisir ?</h3>
              <h2 class="content-title mb-4">
                Avec plus de <strong>5 années d'experience</strong> dans ces différents domaines, MIDONMI est le leader dans son secteur d'activité
                
              </h2>
              <p class="opacity-50">
                MIDONMI est une entreprise de services qui a pour but de vous accompagner dans vos différents projets et démarches au Togo. Que ce soit pour le suivi de vos travaux de construction, le recouvrement de vos loyers, la gestion de vos courses, le retrait et remise d'argent ou colis à vos proches, les formalités administratives d'achat de terrains sécurisés, ou encore la recherche de maisons et chambres à louer pour vos séjours au Togo, MIDONMI est là pour vous aider.
              </p>

              <div class="row my-5">
                <div class="col-lg-12 d-flex align-items-start mb-4">
                  <i class="bi bi-briefcase me-4 display-6"></i>
                  <div>
                    <h4 class="m-0 h5 text-white">PROFESSIONALISME</h4>
                    <p class="text-white opacity-50">
                      MIDONMI vous garantie un service de qualité.
                    </p>
                  </div>
                </div>
                <div class="col-lg-12 d-flex align-items-start mb-4">
                  <i class="bi bi-person-fill-check me-4 display-6"></i>
                  <div>
                    <h4 class="m-0 h5 text-white">LEADERSHIP</h4>
                    <p class="text-white opacity-50">
                      MIDONMI est le leader dans son secteur d'activité.
                    </p>
                  </div>
                </div>
                
                <div class="col-lg-12 d-flex align-items-start mb-4">
                  <i class="bi bi-award me-4 display-6"></i>
                  <div>
                    <h4 class="m-0 h5 text-white">AUTONOMIE</h4>
                    <p class="text-white opacity-50">
                      MIDONMI est une entreprise autonome qui gère ses activités de manière indépendante.
                    </p>
                  </div>
                </div>
                <div class="col-lg-12 d-flex align-items-start">
                  <i class="bi bi-shield-check me-4 display-6"></i>
                  <div>
                    <h4 class="m-0 h5 text-white">FIABILITÉ</h4>
                    <p class="text-white opacity-50">
                      MIDONMI est une entreprise fiable qui respecte ses engagements et garantit la satisfaction de ses clients.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /About Section -->




<!-- -----------------Fenetre modale pour demande de service----------------------- -->


<!-- MODALE DE DEMANDE DE SERVICE -->
<div class="modal fade" id="demandeServiceModal" tabindex="-1" aria-labelledby="demandeServiceModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">


      <form action="demande_service_process.php" method="POST" id="demandeForm">
        <div class="modal-header">
          <h5 class="modal-title" id="demandeServiceModalLabel">Faire une demande personnalisée</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
          
          <div class="mb-3">
            <label for="type_service" class="form-label">Type de service</label>
            <select name="type_service" class="form-select" id="type_service_select" onchange="toggleCustomField(this)">
                <option value="">-- Choisir un service --</option>
                <!-- Options injectées ici via JS -->
            </select>

          </div>

          <div class="mb-3" id="custom_service_field" style="display: none;">
            <label for="custom_service" class="form-label">Service personnalisé</label>
            <input type="text" name="custom_service" class="form-control" placeholder="Décrivez votre demande">
          </div>


        </div>
        <div class="modal-footer">
          <div id="message"></div>

          <button type="submit" class="btn btn-success">Envoyer</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
        </div>
      </form>
    </div>
  </div>
</div>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const select = document.getElementById("type_service_select");

  fetch("../dashboard/html/includes/get_services.php")
    .then(response => response.json())
    .then(services => {
      services.forEach(service => {
        const option = document.createElement("option");
        option.value = service;
        option.textContent = service;
        select.appendChild(option);
      });

      // Option "Autre"
      const otherOption = document.createElement("option");
      otherOption.value = "autre";
      otherOption.textContent = "Autre (saisir manuellement)";
      select.appendChild(otherOption);
    })
    .catch(error => console.error("Erreur lors du chargement des services :", error));
});
</script>


<script>
function toggleCustomField(select) {
  const customField = document.getElementById('custom_service_field');
  customField.style.display = (select.value === 'autre') ? 'block' : 'none';
}
</script>

<script>
  function toggleCustomField(select) {
    const customField = document.getElementById('custom_service_field');
    customField.style.display = (select.value === 'autre') ? 'block' : 'none';
  }

  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('demandeForm');
    const typeService = document.getElementById('type_service_select');
    const customService = document.querySelector('input[name="custom_service"]');
    const messageDiv = document.getElementById('message');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const type = typeService.value;
      const custom = customService.value.trim();

      // Validation JS
      if (!type) {
        messageDiv.innerHTML = `<div class="alert alert-danger">Veuillez sélectionner un service.</div>`;
        return;
      }

      if (type === 'autre' && custom === '') {
        messageDiv.innerHTML = `<div class="alert alert-danger">Veuillez préciser votre service.</div>`;
        return;
      }

      // Envoi Ajax
      const formData = new FormData(form);

      try {
        const response = await fetch('demande_service_process.php', {
          method: 'POST',
          body: formData
        });

        const text = await response.text();
        console.log("Réponse brute du serveur :", text);

        if (response.ok && text === "success") {
          messageDiv.innerHTML = `<div class="alert alert-success">Votre demande a été envoyée avec succès !</div>`;
          
          form.reset(); // Réinitialiser les champs
          toggleCustomField(typeService); // Masquer champ "autre"

          // Fermeture automatique de la modale après 2,5s (optionnel)
          setTimeout(() => {
            const modalElement = document.getElementById('demandeServiceModal');
            const modal = bootstrap.Modal.getInstance(modalElement);
            modal.hide();

            messageDiv.innerHTML = ''; // Nettoyer le message
          }, 2500);

        } else if (text === "not_authenticated") {
          messageDiv.innerHTML = `<div class="alert alert-danger">Vous devez être connecté pour faire une demande.</div>`;
        } else if (text === "missing_data") {
          messageDiv.innerHTML = `<div class="alert alert-danger">Veuillez remplir tous les champs requis.</div>`;
        } else {
          messageDiv.innerHTML = `<div class="alert alert-danger">Erreur lors de l'envoi de la demande.</div>`;
        }

      } catch (error) {
        console.error(error);
        messageDiv.innerHTML = `<div class="alert alert-danger">Une erreur est survenue.</div>`;
      }
    });
  });
</script>

